###############################################################################
#   @author         :   Dave Forrester (@Daverover66)
#   @date           :   08/09/2023
#   @package        :   Kitchen
#   @description    :   All Kitchen config
#
#   @modified by    :   Dave Forrester
#   @date           :   14/09/2023
###############################################################################

###########################
#       Helpers           #
###########################


###########################
#     Automations         #
###########################
automation:

###########################
#     Ad-Hoc Charging     #
###########################

  - id: ad_hoc_charging
    alias: Ad-Hoc Charging
    initial_state: true
    mode: single
    trigger:
      - platform: time
        at: input_datetime.start_battery_output_limit
        id: Start charge
      - platform: time
        at: input_datetime.end_battery_output_limit
        id: Stop charge
    condition: []
    action:
      - choose:
          - conditions:
              - condition: trigger
                id: Start charge
            sequence:
              - service: switch.turn_on
                data: {}
                target:
                  entity_id: switch.ad_hoc_charging_local
              - service: switch.turn_on
                data: {}
                target:
                  entity_id: switch.ad_hoc_tou_charging_2_socket_1
          - conditions:
              - condition: trigger
                id: Stop charge
            sequence:
              - service: switch.turn_off
                data: {}
                target:
                  entity_id: switch.ad_hoc_charging_local
              - service: switch.turn_off
                data: {}
                target:
                  entity_id: switch.ad_hoc_tou_charging_2_socket_1

###########################
       Lighting           
###########################

  - id: kitchen_lights_with_presence
    alias: Kitchen Lights with Presence
    description: ""
    trigger:
      - platform: state
        entity_id:
          - binary_sensor.kitchen_presence_sensor_presence_sensor_1
        from: "off"
        to: "on"
        id: Lights On
      - platform: state
        entity_id:
          - binary_sensor.kitchen_presence_sensor_presence_sensor_1
        from: "on"
        to: "off"
        id: Lights Off
        for:
          hours: 0
          minutes: 0
          seconds: 30
      - platform: numeric_state
        entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
        below: input_number.low_light_threshold
        id: Low Light
      - platform: numeric_state
        entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
        above: input_number.upper_light_threshold_level
        id: Good Light
      - platform: state
        entity_id:
          - binary_sensor.lunchtime
        from: "off"
        to: "on"
        id: Lunchtime starts
      - platform: state
        entity_id:
          - binary_sensor.lunchtime
        id: lunchtime ends
        from: "on"
        to: "off"
      - platform: state
        entity_id:
          - binary_sensor.dinner_time
        from: "off"
        to: "on"
        id: Dinner Time Starts
      - platform: state
        entity_id:
          - binary_sensor.dinner_time
        from: "on"
        to: "off"
        id: Dinner Time Ends
      - platform: state
        entity_id:
          - binary_sensor.lights_out
        to: "off"
        id: Allow Lights on
    condition:
      - condition: state
        entity_id: binary_sensor.lights_out
        state: "off"
      - condition: state
        entity_id: input_boolean.holiday_mode
        state: "off"
    action:
      - choose:
          - conditions:
              - condition: trigger
                id:
                  - Lights On
              - condition: state
                entity_id: binary_sensor.morning
                state: "on"
              - condition: numeric_state
                entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
                below: input_number.low_light_threshold
            sequence:
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - >-
                          scene.kitchen_lights_normal_on_with_garage_dehumidifier_and_washing_machine_indicator_on
                else:
                  - if:
                      - condition: state
                        entity_id: input_boolean.washing_machine_finished
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.garage_dehumidifier_full
                        state: "off"
                    then:
                      - service: scene.turn_on
                        data: {}
                        target:
                          entity_id: >-
                            scene.kitchen_lights_normal_on_with_washing_machine_indicator_on_2
                    else:
                      - if:
                          - condition: state
                            entity_id: input_boolean.garage_dehumidifier_full
                            state: "on"
                        then:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: >-
                                scene.kitchen_lights_normal_on_with_garage_dehumdifier_indicator_on
                        else:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Lights On
              - condition: state
                entity_id: binary_sensor.lunchtime
                state: "on"
              - condition: numeric_state
                entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
                below: input_number.low_light_threshold
            sequence:
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - >-
                          scene.kitchen_lights_mealtimes_on_with_garage_dehumdifier_and_washing_machine_indicator_on
                else:
                  - if:
                      - condition: state
                        entity_id: input_boolean.washing_machine_finished
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.garage_dehumidifier_full
                        state: "off"
                    then:
                      - service: scene.turn_on
                        data: {}
                        target:
                          entity_id: >-
                            scene.kitchen_lights_mealtimes_on_with_washing_machine_indicator_on
                    else:
                      - if:
                          - condition: state
                            entity_id: input_boolean.garage_dehumidifier_full
                            state: "on"
                        then:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id:
                                - >-
                                  scene.kitchen_lights_mealtimes_on_with_garage_dehumidifier_indicator_on
                        else:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: scene.kitchen_lights_mealtimes
          - conditions:
              - condition: trigger
                id:
                  - Lights On
              - condition: state
                entity_id: binary_sensor.afternoon
                state: "on"
              - condition: numeric_state
                entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
                below: input_number.low_light_threshold
            sequence:
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - >-
                          scene.kitchen_lights_normal_on_with_garage_dehumidifier_and_washing_machine_indicator_on
                else:
                  - if:
                      - condition: state
                        entity_id: input_boolean.washing_machine_finished
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.garage_dehumidifier_full
                        state: "off"
                    then:
                      - service: scene.turn_on
                        data: {}
                        target:
                          entity_id: >-
                            scene.kitchen_lights_normal_on_with_washing_machine_indicator_on_2
                    else:
                      - if:
                          - condition: state
                            entity_id: input_boolean.garage_dehumidifier_full
                            state: "on"
                        then:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: >-
                                scene.kitchen_lights_normal_on_with_garage_dehumdifier_indicator_on
                        else:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Lights On
              - condition: state
                entity_id: binary_sensor.dinner_time
                state: "on"
              - condition: numeric_state
                entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
                below: input_number.low_light_threshold
            sequence:
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - >-
                          scene.kitchen_lights_mealtimes_on_with_garage_dehumdifier_and_washing_machine_indicator_on
                else:
                  - if:
                      - condition: state
                        entity_id: input_boolean.washing_machine_finished
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.garage_dehumidifier_full
                        state: "off"
                    then:
                      - service: scene.turn_on
                        data: {}
                        target:
                          entity_id: >-
                            scene.kitchen_lights_mealtimes_on_with_washing_machine_indicator_on
                    else:
                      - if:
                          - condition: state
                            entity_id: input_boolean.garage_dehumidifier_full
                            state: "on"
                        then:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id:
                                - >-
                                  scene.kitchen_lights_mealtimes_on_with_garage_dehumidifier_indicator_on
                        else:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: scene.kitchen_lights_mealtimes
          - conditions:
              - condition: trigger
                id:
                  - Lights On
              - condition: state
                entity_id: binary_sensor.evening
                state: "on"
              - condition: numeric_state
                entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
                below: input_number.low_light_threshold
            sequence:
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - >-
                          scene.kitchen_lights_normal_on_with_garage_dehumidifier_and_washing_machine_indicator_on
                else:
                  - if:
                      - condition: state
                        entity_id: input_boolean.washing_machine_finished
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.garage_dehumidifier_full
                        state: "off"
                    then:
                      - service: scene.turn_on
                        data: {}
                        target:
                          entity_id: >-
                            scene.kitchen_lights_normal_on_with_washing_machine_indicator_on_2
                     else:
                      - if:
                          - condition: state
                            entity_id: input_boolean.garage_dehumidifier_full
                            state: "on"
                        then:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: >-
                                scene.kitchen_lights_normal_on_with_garage_dehumdifier_indicator_on
                        else:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Lights Off
              - condition: state
                entity_id: light.kitchen_lights_2
                state: "on"
            sequence:
              - service: light.turn_off
                data: {}
                target:
                  entity_id: light.kitchen_lights_2
              - if:
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id: scene.kitchen_light_indicator_garage_dehumidifier
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - scene.kitchen_light_indicator_washing_machine_finished
          - conditions:
              - condition: trigger
                id:
                  - Low Light
              - condition: state
                entity_id: binary_sensor.kitchen_presence_sensor_presence_sensor_1
                state: "on"
              - condition: state
                entity_id: binary_sensor.morning
                state: "on"
              - condition: state
                entity_id: light.kitchen_light_5
                state: "off"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Low Light
              - condition: state
                entity_id: binary_sensor.kitchen_presence_sensor_presence_sensor_1
                state: "on"
              - condition: state
                entity_id: binary_sensor.lunchtime
                state: "on"
              - condition: state
                entity_id: light.kitchen_light_5
                state: "off"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_mealtimes
          - conditions:
              - condition: trigger
                id:
                  - Low Light
              - condition: state
                entity_id: binary_sensor.kitchen_presence_sensor_presence_sensor_1
                state: "on"
              - condition: state
                entity_id: binary_sensor.afternoon
                state: "on"
              - condition: state
                entity_id: light.kitchen_light_5
                state: "off"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Low Light
              - condition: state
                entity_id: binary_sensor.kitchen_presence_sensor_presence_sensor_1
                state: "on"
              - condition: state
                entity_id: binary_sensor.dinner_time
                state: "on"
              - condition: state
                entity_id: light.kitchen_light_5
                state: "off"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_mealtimes
          - conditions:
              - condition: trigger
                id:
                  - Low Light
              - condition: state
                entity_id: binary_sensor.kitchen_presence_sensor_presence_sensor_1
                state: "on"
              - condition: state
                entity_id: binary_sensor.evening
                state: "on"
              - condition: state
                entity_id: light.kitchen_light_5
                state: "off"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Good Light
            sequence:
              - service: light.turn_off
                data: {}
                target:
                  entity_id: light.kitchen_lights_2
              - if:
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id: scene.kitchen_light_indicator_garage_dehumidifier
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - scene.kitchen_light_indicator_washing_machine_finished
          - conditions:
              - condition: trigger
                id:
                  - Lunchtime starts
              - condition: state
                entity_id: light.kitchen_lights_2
                state: "on"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_mealtimes
          - conditions:
              - condition: trigger
                id:
                  - lunchtime ends
              - condition: state
                entity_id: light.kitchen_lights_2
                state: "on"
              - condition: numeric_state
                entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
                below: input_number.low_light_threshold
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Dinner Time Starts
              - condition: state
                entity_id: light.kitchen_lights_2
                state: "on"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_mealtimes
          - conditions:
              - condition: trigger
                id:
                  - Dinner Time Ends
              - condition: state
                entity_id: light.kitchen_lights_2
                state: "on"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Allow Lights on
              - condition: state
                entity_id: input_boolean.room_occupied_kitchen
                state: "on"
              - condition: numeric_state
                entity_id: sensor.kitchen_presence_sensor_light_sensor_light_level
                below: input_number.low_light_threshold
            sequence:
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - >-
                          scene.kitchen_lights_normal_on_with_garage_dehumidifier_and_washing_machine_indicator_on
                else:
                  - if:
                      - condition: state
                        entity_id: input_boolean.washing_machine_finished
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.garage_dehumidifier_full
                        state: "off"
                    then:
                      - service: scene.turn_on
                        data: {}
                        target:
                          entity_id: >-
                            scene.kitchen_lights_normal_on_with_washing_machine_indicator_on_2
                    else:
                      - if:
                          - condition: state
                            entity_id: input_boolean.garage_dehumidifier_full
                            state: "on"
                        then:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: >-
                                scene.kitchen_lights_normal_on_with_garage_dehumdifier_indicator_on
                        else:
                          - service: scene.turn_on
                            data: {}
                            target:
                              entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id:
                  - Allow Lights on
              - condition: state
                entity_id: switch.kitchen_lights_switch_switch_0
                state: "off"
            sequence:
              - service: switch.turn_on
                data: {}
                target:
                  entity_id: switch.kitchen_lights_switch_switch_0
              - if:
                  - condition: state
                    entity_id: input_boolean.washing_machine_finished
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id: scene.kitchen_light_indicator_washing_machine_finished
              - if:
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id:
                        - scene.kitchen_light_indicator_garage_dehumidifier



########################
     Magic Cube
########################

  - id: magic_cube_stuff
    alias: Magic Cube Stuff
    initial_state: true
    mode: restart
    trigger:
      - platform: state
        entity_id:
          - sensor.magic_cube_side
        to: "1"
        id: Side 1
      - platform: state
        entity_id:
          - sensor.magic_cube_side
        to: "2"
        id: Side 2
      - platform: state
        entity_id:
          - sensor.magic_cube_side
        to: "3"
        id: Side 3
      - platform: state
        entity_id:
          - sensor.magic_cube_side
        to: "4"
        id: Side 4
      - platform: state
        entity_id:
          - sensor.magic_cube_side
        to: "5"
        id: Side 5
      - platform: state
        entity_id:
          - sensor.magic_cube_side
        to: "6"
        id: Side 6
    condition: []
    action:
      - choose:
          - conditions:
              - condition: trigger
                id:
                  - Side 1
              - condition: state
                entity_id: binary_sensor.lights_out
                state: "off"
              - condition: state
                entity_id: input_boolean.holiday_mode
                state: "off"
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_mealtimes
          - conditions:
              - condition: trigger
                id:
                  - Side 2
              - condition: state
                entity_id: input_boolean.audible_notifications
                state: "on"
              - condition: state
                entity_id: binary_sensor.quiet_time
                state: "off"
            sequence:
              - service: script.status_annc
                data:
                  where: "{{states('sensor.room_audio')}}"
                  call_dinner_weekday: 1
          - conditions:
              - condition: trigger
                id:
                  - Side 3
                  - Side 4
            sequence:
              - service: script.status_annc
                data:
                  where: Kitchen
                  call_coffee_timer: 1
              - delay:
                  hours: 0
                  minutes: 4
                  seconds: 0
                  milliseconds: 0
                alias: Wait 4 minutes
              - service: script.status_annc
                data:
                  where: "{{states('sensor.room_audio')}}"
                  call_coffee_ready: 1
          - conditions:
              - condition: trigger
                id: Side 6
            sequence:
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_lights_normal
          - conditions:
              - condition: trigger
                id: Side 5
              - condition: state
                entity_id: input_boolean.audible_notifications
                state: "on"
              - condition: state
                entity_id: binary_sensor.quiet_time
                state: "off"
            sequence:
              - service: script.status_annc
                data:
                  where: "{{states('sensor.room_audio')}}"
                  call_dinner_sunday: 1

###############################
   Smart Button Downstairs 2
###############################

  - id: smart_button_downstairs_2
    alias: Smart Button Downstairs 2 Automations
    initial_state: true
    mode: restart
    trigger:
      - platform: state
        entity_id:
          - sensor.smart_button_downstairs_2_action
        to: single
        id: Ingrid & Sky On
      - platform: state
        entity_id:
          - sensor.smart_button_downstairs_2_action
        to: double
        id: Ingrid & Sky Off
    condition: []
    action:
      - choose:
          - conditions:
              - condition: trigger
                id:
                  - Ingrid & Sky On
              - condition: state
                entity_id: switch.ingrid_socket_1
                state: "off"
            sequence:
              - service: switch.turn_on
                data: {}
                target:
                  entity_id: switch.ingrid_socket_1
              - service: media_player.turn_on
                data: {}
                target:
                  device_id: 2285e887e55f34f8b3cfd7d7e8e58f6a
              - if:
                  - condition: state
                    entity_id: binary_sensor.quiet_time
                    state: "off"
                  - condition: state
                    entity_id: input_boolean.audible_notifications
                    state: "on"
                then:
                  - service: script.status_annc
                    data:
                      where: Kitchen
                      call_media_system_on: 1
          - conditions:
              - condition: trigger
                id:
                  - Ingrid & Sky Off
              - condition: state
                entity_id: switch.ingrid_socket_1
                state: "on"
            sequence:
              - service: switch.turn_off
                data: {}
                target:
                  entity_id: switch.ingrid_socket_1
              - service: media_player.turn_off
                data: {}
                target:
                  device_id: 2285e887e55f34f8b3cfd7d7e8e58f6a
              - if:
                  - condition: state
                    entity_id: input_boolean.audible_notifications
                    state: "on"
                  - condition: state
                    entity_id: binary_sensor.quiet_time
                    state: "off"
                then:
                  - service: script.status_annc
                    data:
                      where: Kitchen
                      call_media_system_off: 1

#################################################
        Fridge and Freezer Door Watch
#################################################

  - id: fridge_and_freezer_door_watch
    alias: Fridge & Freezer Door Watch
    description: Warn me when the fridge or freezer door has been left open
    initial_state: true
    mode: parallel
    max: 4
    trigger:
      - platform: state 
        entity_id:
          - binary_sensor.fridge_door_sensor_contact
        from: "off"
        to: "on"
        for:
          hours: 0
          minutes: 2
          seconds: 0
        id: Fridge Door Open
      - platform: state
        entity_id:
          - binary_sensor.freezer_door_door_sensor_contact
        from: "off"
        to: "on"
        for:
          hours: 0
          minutes: 2
          seconds: 0
        id: Freezer Door Open
    condition: []
    action:
      - choose:
          - conditions:
              - condition: trigger
                id: Fridge Door Open
              - condition: state
                entity_id: input_boolean.audible_notifications
                state: "on"
            sequence:
              - service: script.status_annc
                data:
                  where: "{{ states('sensor.room_audio') }}"
                  call_fridge_warning: 1
              - delay:
                  hours: 0
                  minutes: 2
                  seconds: 0
                  milliseconds: 0
              - if:
                  - platform: state
                    entity_id: binary_sensor.fridge_door_sensor_contact
                    state: "on"
                then:
                  - service: script.status_annc
                    data:
                      where: "{{ states('sensor.room_audio') }}"
                      call_fridge_warning_again: 1
                else:
                  - service: script.status_annc
                    data:
                      where: "{{ states('sensor.room_audio') }}"
                      call_fridge_closed: 1
          - conditions:
              - condition: trigger
                id: Freezer Door Open
              - condition: state
                entity_id: input_boolean.audible_notifications
                state: "on"
            sequence:
              - service: script.status_annc
                data:
                  where: "{{ states('sensor.room_audio') }}"
                  call_freezer_warning: 1
          - service: script.speech_engine_for_tts
            data:
              voice: Brian
              where: "{{ states('sensor.room_audio') }}"
              - delay:
                  hours: 0
                  minutes: 1
                  seconds: 0
                  milliseconds: 0
              - if:
                  - platfrom: state
                    entity_id: binary_sensor.freezer_door_sensor_contact
                    state: "on"
                then:
                  - service: script.status_annc
                    data:
                      where: "{{ states('sensor.room_audio') }}"
                      call_freezer_warning_again: 1
                else:
                  - service: script.status_annc
                    data: 
                      where: "{{ states('sensor.room_audio') }}"
                      call_freezer_closed: 1

#################################################
        Washing Machine Automations
#################################################

  - id: washing_machine_all_automations
    alias: Washing Machine - All Automations
    initial_state: true
    mode: restart
    description: >-
      Set the value of input boolean "washing machine on/off" based on power
      consumption. Announce when the washing has finished and check the washing has
      been removed.
    trigger:
      - platform: numeric_state
        entity_id: sensor.shelly1pm_e89f6d84a584_power
        above: 10
        id: Washing Machine On
        alias: Washing machine drawing more than 10W power
      - platform: numeric_state
        entity_id: sensor.shelly1pm_e89f6d84a584_power
        below: 2
        id: Washing machine off
        alias: Washing machine drawing less than 2W power for 60s.
        for:
          hours: 0
          minutes: 1
          seconds: 0
      - platform: event
        event_type: timer.finished
        event_data:
          entity_id: timer.washing_machine_door_open
        id: Washing machine door not open
        alias: Washing done notification repeat with timer
      - platform: state
        entity_id: binary_sensor.washing_machine_door_contact
        from: "off"
        to: "on"
        id: Washing removed from machine
    condition: []
    action:
      - choose:
          - conditions:
              - condition: trigger
                id: Washing Machine On
            sequence:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.washing_machine_on_off
          - conditions:
              - condition: trigger
                id: Washing machine off
            sequence:
              - delay:
                  hours: 0
                  minutes: 1
                  seconds: 0
                  milliseconds: 0
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id: input_boolean.washing_machine_on_off
              - if:
                  - condition: state
                    entity_id: input_boolean.audible_notifications
                    state: "on"
                  - condition: state
                    entity_id: binary_sensor.quiet_time
                    state: "off"
                then:
                  - service: script.status_annc
                    data:
                      where: "{{states('sensor.room_audio') }}"
                      call_washing_machine_done: 1                 
              - if:
                  - condition: and
                    conditions:
                      - condition: state
                        entity_id: input_boolean.text_notifications
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.text_notifications_dave
                        state: "on"
                then:
                  - service: notify.mobile_app_{{states('input_text.my_mobile_phone_id')}}
                    data:
                      message: That's the washing done. Better get it hung up.
                      title: WASHING MACHINE
              - if:
                  - condition: and
                    conditions:
                      - condition: state
                        entity_id: input_boolean.text_notifications
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.text_notifications_gem
                        state: "on"
                then:
                  - service: >-
                      notify.mobile_app_{{states('input_text.gem_s_mobile_phone_id')}}
                    data:
                      message: That's the washing done. Better get it hung up.
                      title: WASHING MACHINE
              - service: timer.start
                data: {}
                target:
                  entity_id: timer.washing_machine_door_open
              - service: scene.turn_on
                data: {}
                target:
                  entity_id: scene.kitchen_light_indicator_washing_machine_finished
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.washing_machine_finished
          - conditions:
              - condition: trigger
                id: Washing machine door not open
              - condition: state
                entity_id: binary_sensor.washing_machine_door_contact
                state: "off"
            sequence:
              - if:
                  - condition: state
                    entity_id: input_boolean.audible_notifications
                    state: "on"
                  - condition: state
                    entity_id: binary_sensor.quiet_time
                    state: "off"
                then:
                  - service: script.status_annc
                    data:
                      where: "{{states('sensor.room_audio')}}"
                      call_washing_machine_done_again: 1
              - if:
                  - condition: and
                    conditions:
                      - condition: state
                        entity_id: input_boolean.text_notifications
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.text_notifications_dave
                        state: "on"
                then:
                  - service: notify.mobile_app_{{states('input_text.my_mobile_phone_id')}}
                    data:
                      message: >-
                        The washing is still in the machine. Better hang it up
                        before it starts to smell.
                      title: SMELLY WASHING!
              - if:
                  - condition: and
                    conditions:
                      - condition: state
                        entity_id: input_boolean.text_notifications
                        state: "on"
                      - condition: state
                        entity_id: input_boolean.text_notifications_gem
                        state: "on"
                then:
                  - service: >-
                      notify.mobile_app_{{states('input_text.gem_s_mobile_phone_id')}}
                    data:
                      message: >-
                        The washing is still in the machine. Better hang it up
                        before it starts to smell.
                      title: SMELLY WASHING!
          - conditions:
              - condition: trigger
                id: Washing removed from machine
              - condition: or
                conditions:
                  - condition: state
                    entity_id: timer.washing_machine_door_open
                    state: active
                  - condition: state
                    entity_id: timer.washing_machine_door_open
                    state: idle
                alias: Timer active or finished
            sequence:
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id: input_boolean.washing_machine_finished
              - service: timer.cancel
                data: {}
                target:
                  entity_id: timer.washing_machine_door_open
              - if:
                  - condition: state
                    entity_id: light.kitchen_light_5
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                  - condition: or
                    conditions:
                      - condition: state
                        entity_id: binary_sensor.lunchtime
                        state: "on"
                      - condition: state
                        entity_id: binary_sensor.dinner_time
                        state: "on"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id: >-
                        scene.kitchen_lights_mealtimes_on_with_garage_dehumidifier_indicator_on
                else:
                  - service: light.turn_off
                    data: {}
                    target:
                      entity_id: light.kitchen_light_2
              - if:
                  - condition: state
                    entity_id: light.kitchen_light_5
                    state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "on"
                  - condition: and
                    conditions:
                      - condition: state
                        entity_id: binary_sensor.lunchtime
                        state: "off"
                      - condition: state
                        entity_id: binary_sensor.dinner_time
                        state: "off"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id: >-
                        scene.kitchen_lights_normal_on_with_garage_dehumdifier_indicator_on
                else:
                  - service: light.turn_off
                    data: {}
                    target:
                      entity_id: light.kitchen_light_2
              - if:
                  - condition: state
                    entity_id: light.kitchen_light_5
                    state: "on"
                  - condition: or
                    conditions:
                      - condition: state
                        entity_id: binary_sensor.lunchtime
                        state: "on"
                      - condition: state
                        entity_id: binary_sensor.dinner_time
                        state: "on"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "off"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id: scene.kitchen_lights_mealtimes
                else:
                  - service: light.turn_off
                    data: {}
                    target:
                      entity_id: light.kitchen_light_2
              - if:
                  - condition: state
                    entity_id: light.kitchen_light_5
                    state: "on"
                  - condition: and
                    conditions:
                      - condition: state
                        entity_id: binary_sensor.lunchtime
                        state: "off"
                      - condition: state
                        entity_id: binary_sensor.dinner_time
                        state: "off"
                  - condition: state
                    entity_id: input_boolean.garage_dehumidifier_full
                    state: "off"
                then:
                  - service: scene.turn_on
                    data: {}
                    target:
                      entity_id: scene.kitchen_lights_normal
                else:
                  - service: light.turn_off
                    data: {}
                    target:
                      entity_id: light.kitchen_light_2

                  
###########################
#        Scripts          #
###########################

###########################
#        Scenes           #
###########################

scene:

##################################################
    Kitchen Light Indicator Garage Dehumidifier
##################################################

- id: '1692688134088'
  name: Kitchen Light Indicator Garage Dehumidifier
  entities:
    light.kitchen_light_1:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color:
        x: 0.151
        y: 0.343
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 1
      supported_features: 44
      color_mode: xy
      brightness: 26
      hs_color:
      - 179.765
      - 100
      rgb_color:
      - 0
      - 255
      - 254
      xy_color:
      - 0.151
      - 0.343
      state: 'on'
    switch.kitchen_light_1_do_not_disturb:
      brightness: 26
      color:
        x: 0.151
        y: 0.343
      color_mode: xy
      color_power_on_behavior: previous
      color_temp: 153
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 1 do_not_disturb
      state: 'on'
  icon: mdi:garage-variant
  metadata: {}

##################################################
    Kitchen Light Indicator Washing Machine
##################################################

- id: '1692692252026'
  name: Kitchen Light Indicator Washing Machine Finished
  entities:
    light.kitchen_light_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color:
        x: 0.596
        y: 0.388
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 2
      supported_features: 44
      color_mode: xy
      brightness: 26
      hs_color:
      - 33.176
      - 100
      rgb_color:
      - 255
      - 141
      - 0
      xy_color:
      - 0.596
      - 0.388
      state: 'on'
    switch.kitchen_light_2_do_not_disturb:
      brightness: 26
      color:
        x: 0.596
        y: 0.388
      color_mode: xy
      color_power_on_behavior: previous
      color_temp: 500
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 2 do_not_disturb
      state: 'on'
  icon: mdi:washing-machine-alert
  metadata: {}

##################################################
             Kitchen Lights Normal
##################################################

- id: '1694412152715'
  name: Kitchen Lights Normal
  entities:
    light.kitchen_lights_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      color_temp_kelvin: 2724
      color_temp: 367
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      icon: mdi:lightbulb-group
      friendly_name: Kitchen Lights
      supported_features: 44
      state: 'on'
    switch.kitchen_lights_switch_switch_0:
      friendly_name: Kitchen Lights Switch
      state: 'on'
  metadata:
    light.kitchen_lights_2:
      entity_only: true
    switch.kitchen_lights_switch_switch_0:
      entity_only: true

##################################################
           Kitchen Lights Mealtimes
##################################################

- id: '1694454322626'
  name: Kitchen Lights Mealtimes
  entities:
    switch.kitchen_lights_switch_switch_0:
      friendly_name: Kitchen Lights Switch
      state: 'on'
    light.kitchen_lights_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color:
        x: 0.3451
        y: 0.3516
      icon: mdi:lightbulb-group
      friendly_name: Kitchen Lights
      supported_features: 44
      color_mode: color_temp
      brightness: 255
      color_temp_kelvin: 5000
      color_temp: 200
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      state: 'on'
  metadata:
    switch.kitchen_lights_switch_switch_0:
      entity_only: true
    light.kitchen_lights_2:
      entity_only: true

#######################################################################
    Kitchen Light Indicator Garage Dehumidifier and Washing Machine
#######################################################################

- id: '1694930675653'
  name: Kitchen Lights Normal On with Garage Dehumidifier and Washing Machine Indicator
    On
  entities:
    light.kitchen_light_1:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 179.765
      - 100
      rgb_color:
      - 0
      - 255
      - 254
      xy_color:
      - 0.151
      - 0.343
      color:
        x: 0.151
        y: 0.343
      color_power_on_behavior: initial
      do_not_disturb: true
      linkquality: 212
      friendly_name: Kitchen Light 1
      supported_features: 44
      state: 'on'
    light.kitchen_light_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 33.176
      - 100
      rgb_color:
      - 255
      - 141
      - 0
      xy_color:
      - 0.596
      - 0.388
      color:
        x: 0.596
        y: 0.388
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 100
      friendly_name: Kitchen Light 2
      supported_features: 44
      state: 'on'
    light.kitchen_light_3:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 116
      friendly_name: Kitchen Light 3
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_4:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 124
      friendly_name: Kitchen Light 4
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_5:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: initial
      do_not_disturb: false
      linkquality: 136
      friendly_name: Kitchen Light 5
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
  metadata:
    light.kitchen_light_1:
      entity_only: true
    light.kitchen_light_2:
      entity_only: true
    light.kitchen_light_3:
      entity_only: true
    light.kitchen_light_4:
      entity_only: true
    light.kitchen_light_5:
      entity_only: true

###################################################################
    Kitchen Lights Normal On with Washing Machine Indicator On
###################################################################

- id: '1694930934140'
  name: Kitchen Lights Normal On with Washing Machine Indicator On
  entities:
    light.kitchen_light_1:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: initial
      do_not_disturb: true
      linkquality: 84
      friendly_name: Kitchen Light 1
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 33.176
      - 100
      rgb_color:
      - 255
      - 141
      - 0
      xy_color:
      - 0.596
      - 0.388
      color:
        x: 0.596
        y: 0.388
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 92
      friendly_name: Kitchen Light 2
      supported_features: 44
      state: 'on'
    light.kitchen_light_3:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 3
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_4:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 4
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_5:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: initial
      do_not_disturb: false
      linkquality: 136
      friendly_name: Kitchen Light 5
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
  metadata:
    light.kitchen_light_1:
      entity_only: true
    light.kitchen_light_2:
      entity_only: true
    light.kitchen_light_3:
      entity_only: true
    light.kitchen_light_4:
      entity_only: true
    light.kitchen_light_5:
      entity_only: true

######################################################################
    Kitchen Lights Normal On with Garage Dehumidifier Indicator On
######################################################################

- id: '1694931078964'
  name: Kitchen Lights Normal On with Garage Dehumdifier Indicator On
  entities:
    light.kitchen_light_1:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 179.765
      - 100
      rgb_color:
      - 0
      - 255
      - 254
      xy_color:
      - 0.151
      - 0.343
      color:
        x: 0.151
        y: 0.343
      color_power_on_behavior: initial
      do_not_disturb: true
      linkquality: 84
      friendly_name: Kitchen Light 1
      supported_features: 44
      state: 'on'
    light.kitchen_light_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 96
      friendly_name: Kitchen Light 2
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_3:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 3
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_4:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 124
      friendly_name: Kitchen Light 4
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
    light.kitchen_light_5:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 28
      hs_color:
      - 28.343
      - 64.962
      rgb_color:
      - 255
      - 167
      - 89
      xy_color:
      - 0.524
      - 0.387
      color:
        x: 0.4582
        y: 0.4102
      color_power_on_behavior: initial
      do_not_disturb: false
      linkquality: 140
      friendly_name: Kitchen Light 5
      supported_features: 44
      color_temp_kelvin: 2724
      color_temp: 367
      state: 'on'
  metadata:
    light.kitchen_light_1:
      entity_only: true
    light.kitchen_light_2:
      entity_only: true
    light.kitchen_light_3:
      entity_only: true
    light.kitchen_light_4:
      entity_only: true
    light.kitchen_light_5:
      entity_only: true

###########################################################################
    Kitchen Lights Mealtimes On with Garage Dehumidifier Indicator On
###########################################################################

- id: '1694931239713'
  name: Kitchen Lights Mealtimes On with Garage Dehumidifier Indicator On
  entities:
    light.kitchen_light_1:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 179.765
      - 100
      rgb_color:
      - 0
      - 255
      - 254
      xy_color:
      - 0.151
      - 0.343
      color:
        x: 0.151
        y: 0.343
      color_power_on_behavior: initial
      do_not_disturb: true
      linkquality: 84
      friendly_name: Kitchen Light 1
      supported_features: 44
      state: 'on'
    light.kitchen_light_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 84
      friendly_name: Kitchen Light 2
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_3:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 3
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_4:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 4
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_5:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: initial
      do_not_disturb: false
      linkquality: 136
      friendly_name: Kitchen Light 5
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
  metadata:
    light.kitchen_light_1:
      entity_only: true
    light.kitchen_light_2:
      entity_only: true
    light.kitchen_light_3:
      entity_only: true
    light.kitchen_light_4:
      entity_only: true
    light.kitchen_light_5:
      entity_only: true

################################################################################################
    Kitchen Lights Mealtimes On with Garage Dehumidifier and Washing Machine Indicator On
################################################################################################

- id: '1694931340691'
  name: Kitchen Lights Mealtimes On with Garage Dehumdifier and Washing Machine Indicator
    On
  entities:
    light.kitchen_light_1:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 179.765
      - 100
      rgb_color:
      - 0
      - 255
      - 254
      xy_color:
      - 0.151
      - 0.343
      color:
        x: 0.151
        y: 0.343
      color_power_on_behavior: initial
      do_not_disturb: true
      linkquality: 108
      friendly_name: Kitchen Light 1
      supported_features: 44
      state: 'on'
    light.kitchen_light_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 33.176
      - 100
      rgb_color:
      - 255
      - 141
      - 0
      xy_color:
      - 0.596
      - 0.388
      color:
        x: 0.596
        y: 0.388
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 76
      friendly_name: Kitchen Light 2
      supported_features: 44
      state: 'on'
    light.kitchen_light_3:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 116
      friendly_name: Kitchen Light 3
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_4:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 124
      friendly_name: Kitchen Light 4
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_5:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: initial
      do_not_disturb: false
      linkquality: 132
      friendly_name: Kitchen Light 5
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
  metadata:
    light.kitchen_light_1:
      entity_only: true
    light.kitchen_light_2:
      entity_only: true
    light.kitchen_light_3:
      entity_only: true
    light.kitchen_light_4:
      entity_only: true
    light.kitchen_light_5:
      entity_only: true

######################################################################
    Kitchen Lights Mealtimes On with Washing Machine Indicator On
######################################################################

- id: '1694931496341'
  name: Kitchen Lights Mealtimes On with Washing Machine Indicator On
  entities:
    light.kitchen_light_1:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: initial
      do_not_disturb: true
      linkquality: 108
      friendly_name: Kitchen Light 1
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_2:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: xy
      brightness: 26
      hs_color:
      - 33.176
      - 100
      rgb_color:
      - 255
      - 141
      - 0
      xy_color:
      - 0.596
      - 0.388
      color:
        x: 0.596
        y: 0.388
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 104
      friendly_name: Kitchen Light 2
      supported_features: 44
      state: 'on'
    light.kitchen_light_3:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 116
      friendly_name: Kitchen Light 3
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_4:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: previous
      do_not_disturb: true
      linkquality: 120
      friendly_name: Kitchen Light 4
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
    light.kitchen_light_5:
      min_color_temp_kelvin: 2000
      max_color_temp_kelvin: 6535
      min_mireds: 153
      max_mireds: 500
      effect_list:
      - blink
      - breathe
      - okay
      - channel_change
      - finish_effect
      - stop_effect
      supported_color_modes:
      - color_temp
      - xy
      color_mode: color_temp
      brightness: 255
      hs_color:
      - 27.001
      - 19.243
      rgb_color:
      - 255
      - 228
      - 205
      xy_color:
      - 0.372
      - 0.35
      color:
        x: 0.3451
        y: 0.3516
      color_power_on_behavior: initial
      do_not_disturb: false
      linkquality: 136
      friendly_name: Kitchen Light 5
      supported_features: 44
      color_temp_kelvin: 5000
      color_temp: 200
      state: 'on'
  metadata:
    light.kitchen_light_1:
      entity_only: true
    light.kitchen_light_2:
      entity_only: true
    light.kitchen_light_3:
      entity_only: true
    light.kitchen_light_4:
      entity_only: true
    light.kitchen_light_5:
      entity_only: true

